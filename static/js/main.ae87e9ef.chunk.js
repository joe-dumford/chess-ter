(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),n=a(9),r=a.n(n),l=(a(6),a(7)),o=a(1),c=a(2),u=a(4),h=a(3),d=a(5);function b(e){return i.a.createElement("button",{className:"square "+e.shade,onClick:e.onClick,style:e.style})}var p=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e,t){var a=this;return i.a.createElement(b,{style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return a.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<8;t++){for(var a=[],s=0;s<8;s++){var n=v(t)&&v(s)||!v(t)&&!v(s)?"light-square":"dark-square";a.push(this.renderSquare(8*t+s,n))}e.push(i.a.createElement("div",{className:"board-row"},a))}return i.a.createElement("div",null,e)}}]),t}(i.a.Component);function v(e){return e%2===0}var m=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderSquare",value:function(e,t,a){return i.a.createElement(b,{piece:e,style:e.style})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"board-row"},this.props.whiteFallenSoldiers.map(function(t,a){return e.renderSquare(t,a)})),i.a.createElement("div",{className:"board-row"},this.props.blackFallenSoldiers.map(function(t,a){return e.renderSquare(t,a)})))}}]),t}(i.a.Component),f=function e(t,a){Object(o.a)(this,e),this.player=t,this.style={backgroundImage:"url('"+a+"')"}},k=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:"getSrcToDestPath",value:function(e,t){var a,s,i,n=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%9===0?(i=9,a+=9):(i=7,a+=7);for(var r=a;r<s;r+=i)n.push(r);return n}}]),t}(f),w=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:"getSrcToDestPath",value:function(e,t){return[]}}]),t}(f),y=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:"getSrcToDestPath",value:function(){return[]}}]),t}(f),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t,a){if(1===this.player){if(t===e-8&&!a||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(a&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!a||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(a&&(t===e+9||t===e+7))return!0}return!1}},{key:"getSrcToDestPath",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),t}(f),O=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovePossible",value:function(e,t){var a=e%8,s=8-a;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-a&&t<e+s}},{key:"getSrcToDestPath",value:function(e,t){var a,s,i,n=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%8===0?(i=8,a+=8):Math.abs(e-t)%9===0?(i=9,a+=9):Math.abs(e-t)%7===0?(i=7,a+=7):(i=1,a+=1);for(var r=a;r<s;r+=i)n.push(r);return n}}]),t}(f),j=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e,1===e?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isMovepossible",value:function(e,t){var a=e%8,s=8-a;return Math.abs(e-t)%8===0||t>=e-a&&t<e+s}},{key:"getSrcToDestPath",value:function(e,t){var a,s,i,n=[];e>t?(a=t,s=e):(a=e,s=t),Math.abs(e-t)%8===0?(i=8,a+=8):(i=1,a+=1);for(var r=a;r<s;r+=i)n.push(r);return n}}]),t}(f);function S(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new g(2),e[t+40]=new g(1);return e[0]=new j(2),e[7]=new j(2),e[56]=new j(1),e[63]=new j(1),e[1]=new y(2),e[6]=new y(2),e[57]=new y(1),e[62]=new y(1),e[2]=new k(2),e[5]=new k(2),e[58]=new k(1),e[61]=new k(1),e[3]=new O(2),e[4]=new w(2),e[59]=new O(1),e[60]=new w(1),e}var C=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={squares:S(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,status:"",turn:"white"},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=Object(l.a)({},t[e].style,{backgroundColor:"RGB(73, 128, 113)"}),this.setState({status:"Choose your placement",sourceSelection:e})):(this.setState({status:"Wrong selection. Player "+this.state.player+" must move."}),t[e]&&(t[e].style=Object(l.a)({},t[e].style,{backgroundColor:""})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=Object(l.a)({},t[this.state.sourceSelection].style,{backgroundColor:""}),t[e]&&t[e].player===this.state.player)this.setState({status:"Illegal move. Choose valid destination.",sourceSelection:-1});else{var a=this.state.squares.slice(),s=this.state.whiteFallenSoldiers.slice(),i=this.state.blackFallenSoldiers.slice(),n=!!a[e],r=a[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,n),o=a[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),c=this.isMoveLegal(o);if(r&&c){null!==a[e]&&(1===a[e].player?s.push(a[e]):i.push(a[e])),console.log("whiteFallenSoldiers",s),console.log("blackFallenSoldiers",i),a[e]=a[this.state.sourceSelection],a[this.state.sourceSelection]=null;var u=1===this.state.player?2:1,h="white"===this.state.turn?"black":"white";this.setState({sourceSelection:-1,squares:a,whiteFallenSoldiers:s,blackFallenSoldiers:i,player:u,status:"",turn:h})}else this.setState({status:"Wrong selection. Choose valid source and destination.",sourceSelection:-1})}}},{key:"isMoveLegal",value:function(e){for(var t=!0,a=0;a<e.length;a++)null!==this.state.squares[e[a]]&&(t=!1);return t}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"game-board"},i.a.createElement(p,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),i.a.createElement("div",{className:"game-info"},i.a.createElement("h3",null,"Turn"),i.a.createElement("div",{id:"player-turn-box",style:{backgroundColor:this.state.turn}}),i.a.createElement("div",{className:"game-status"},this.state.status),i.a.createElement("div",{className:"fallen-soldiers"},i.a.createElement(m,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers})))))}}]),t}(i.a.Component);r.a.render(i.a.createElement(C,null),document.getElementById("root"))},6:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.ae87e9ef.chunk.js.map